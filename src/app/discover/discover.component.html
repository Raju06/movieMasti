<div class="container">

  <h2>Discover New Movies & TV Shows</h2>

  <div class="discover-filters">
    <mat-form-field>
      <mat-select [(ngModel)]="options.primary_release_year" placeholder="Year" (change)="getDiscover()">
        <mat-option *ngFor="let year of yearsList" [value]="year">{{year}}</mat-option>
      </mat-select>
    </mat-form-field>
    <mat-form-field>
      <mat-select [(ngModel)]="options.sort_by" placeholder="Sory By" (change)="getDiscover()">
        <mat-option *ngFor="let sort of sortByList" [value]="sort.key">{{sort.value}}</mat-option>
      </mat-select>
    </mat-form-field>
    <mat-form-field>
      <mat-select multiple [(ngModel)]="options.with_genres" placeholder="Genres" (change)="getDiscover()">
        <mat-option *ngFor="let genres of genresList" [value]="genres.id">{{genres.name}}</mat-option>
      </mat-select>
    </mat-form-field>
    <mat-button-toggle-group #group="matButtonToggleGroup" (change)="changeDiscoverType(group.value)" [value]="discoverType">
      <mat-button-toggle value="movie"> Movies </mat-button-toggle>
      <mat-button-toggle value="tv"> TV Shows </mat-button-toggle>
    </mat-button-toggle-group>
  </div>
</div>

<div class="main-content">
  <mat-card class="example-card" *ngFor="let item of itemList">
    <img mat-card-image [src]="item.backdrop_path" class="card-img">
    <mat-card-content>
      <h3 class="ellipsis"> {{discoverType == 'movie' ? item.title : item.name}}</h3>
      <p>
        {{item.overview}}
      </p>
    </mat-card-content>

  </mat-card>
</div>